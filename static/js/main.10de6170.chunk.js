(this["webpackJsonp@omnibridge/react-app"]=this["webpackJsonp@omnibridge/react-app"]||[]).push([[0],{1063:function(e,t,a){"use strict";a.r(t);var n,r,c,o,l=a(0),i=a.n(l),s=a(97),u=a.n(s),m=a(121),b=(a(560),a(483)),f=a(1101),d=a(76),p=a(6),h=a(7),E=a(11),g=a(10),v=a(1082),x=a(1084),w=a(9),j=a(40),y=a(120),O=a(35),C="0x16BD600a888b53D8808C0C7d84A1B7ca9FAe475D",k="https://api.thegraph.com/subgraphs/name/ianidi/lottery-ropsten",S="https://ropsten.infura.io/v3/c010ef4cc4754cfba5eba886a7508afd",I={1:"50/50"},A={1:{rpc:"https://ropsten.infura.io/v3/c010ef4cc4754cfba5eba886a7508afd",explorer:"https://ropsten.etherscan.io/tx/",chainId:1},3:{rpc:"https://ropsten.infura.io/v3/c010ef4cc4754cfba5eba886a7508afd",explorer:"https://ropsten.etherscan.io/tx/",chainId:3}},z="0x0000000000000000000000000000000000000000",D="https://assets.coingecko.com/coins/images/279/small/ethereum.png?1595348880",L=(O.a.from("115792089237316195423570985008687907853269984665640564039457584007913129639935"),Object({NODE_ENV:"production",PUBLIC_URL:"/lottery-front2",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_UI_STATUS_UPDATE_INTERVAL,"0x6A023CCd1ff6F2045C3309768eAd9E68F978f6e1".toLowerCase(),"0x3D14493DF2B479E6BABE82Fc2373F91622bac025".toLowerCase(),"0xCa8d20f3e0144a72C6B5d576e9Bd3Fd8557E2B04".toLowerCase(),{1:"Mainnet",3:"Ropsten",4:"Rinkeby",5:"G\xf6rli",42:"Kovan",56:"BSC",77:"Sokol",100:"xDai"}),T={100:"https://tokens.honeyswap.org",1:"https://tokens.uniswap.org",42:"",77:"",56:"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/smartchain/tokenlist.json"},P="customTokens",W=function(e){return L[e]||"Unknown"},R=function(e){return T[e]||T[1]},B=function(e,t){var a=Object(j.a)(e);return a.splice(t,1),a},F=function(e){var t={};return e.filter((function(e){var a=e.address.toLowerCase();return!Object.prototype.hasOwnProperty.call(t,a)&&(t[a]=!0)}))},H=function(e,t){var a=y.utils.formatUnits(e,t);if(a.length>50){var n=Number(a).toExponential().replace(/e\+?/," x 10^").split(" x 10^"),r=Number(n[0]).toLocaleString("en",{maximumFractionDigits:4});return"".concat(r," x 10^").concat(n[1])}return a},M=function(e,t){var a;try{a=y.utils.parseUnits(e,t)}catch(n){a=O.a.from(0)}return a},_=function(e){console.error(e)},N=function(e,t){var a=e;return a.length>t-3&&(a="".concat(a.substr(0,t-3),"...")),a},q=function(e){Object(E.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).state={hasError:!1},n}return Object(h.a)(a,[{key:"componentDidCatch",value:function(e,t){_({error:e,errorInfo:t})}},{key:"render",value:function(){var e=this.state.hasError,t=this.props.children;return e?i.a.createElement(v.a,{justify:"center",align:"center",direction:"column",w:"100%",minH:"100vh"},i.a.createElement(x.a,{fontSize:"lg"}," Something went wrong "),i.a.createElement(x.a,null," Please check console for error log ")):t}}],[{key:"getDerivedStateFromError",value:function(e){return e?{hasError:!0}:{hasError:!1}}}]),a}(i.a.Component),V=a(1112),Z=a(490),U=a.n(Z),$=a(491),G=a.n($),J=a(1110),K=a(2),Y=a.n(K),X=a(34),Q=a(19),ee=a(492),te=a.n(ee),ae=a(82),ne=a(493),re=a.n(ne),ce=a(494),oe=i.a.createContext({}),le=function(){return Object(l.useContext)(oe)},ie={walletconnect:{package:te.a,options:{rpc:{1:S,3:S}}}},se=new ce.SafeAppWeb3Modal({cacheProvider:!0,providerOptions:ie}),ue=function(e){var t=e.children,a=Object(l.useState)({}),n=Object(w.a)(a,2),r=n[0],c=r.providerChainId,o=r.ethersProvider,s=r.account,u=n[1],m=Object(l.useState)(!0),b=Object(w.a)(m,2),f=b[0],d=b[1],p=Object(l.useCallback)(function(){var e=Object(Q.a)(Y.a.mark((function e(t){var a,n,r,c,o,l,i=arguments;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=i.length>1&&void 0!==i[1]&&i[1],e.prev=1,!t){e.next=15;break}if(n=new re.a(t),r=new ae.a.providers.Web3Provider(n.currentProvider),c=Number(t.chainId),!a){e.next=14;break}return o=r.getSigner(),e.next=10,o.getAddress();case 10:l=e.sent,u({account:l,ethersProvider:r,providerChainId:c}),e.next=15;break;case 14:u((function(e){return Object(X.a)(Object(X.a)({},e),{},{ethersProvider:r,providerChainId:c})}));case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(1),_({web3ModalError:e.t0});case 20:case"end":return e.stop()}}),e,null,[[1,17]])})));return function(t){return e.apply(this,arguments)}}(),[]),h=Object(l.useCallback)(Object(Q.a)(Y.a.mark((function e(){var t;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,d(!0),e.next=4,se.requestProvider();case 4:return t=e.sent,e.next=7,p(t,!0);case 7:!!t.safe||(t.on("accountsChanged",(function(e){u((function(t){return Object(X.a)(Object(X.a)({},t),{},{account:e[0]})}))})),t.on("chainChanged",(function(){p(t)}))),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),_({web3ModalError:e.t0});case 14:d(!1);case 15:case"end":return e.stop()}}),e,null,[[0,11]])}))),[p]),E=Object(l.useCallback)(Object(Q.a)(Y.a.mark((function e(){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:se.clearCachedProvider(),u({});case 2:case"end":return e.stop()}}),e)}))),[]);return Object(l.useEffect)((function(){window.ethereum&&(window.ethereum.autoRefreshOnNetworkChange=!1),function(){var e=Object(Q.a)(Y.a.mark((function e(){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,se.canAutoConnect();case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0=se.cachedProvider;case 5:if(!e.t0){e.next=9;break}h(),e.next=10;break;case 9:d(!1);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[h]),i.a.createElement(oe.Provider,{value:{ethersProvider:o,connectWeb3:h,loading:f,disconnect:E,providerChainId:c,account:s}},t)},me=a(1085),be=Object(me.a)({displayName:"WalletFilledIcon",path:l.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 0C1.79086 0 0 1.79086 0 4V6H20V4C20 1.79086 18.2091 0 16 0H4ZM0 8H24C26.2091 8 28 9.79086 28 12V24C28 26.2091 26.2091 28 24 28H4C1.79086 28 0 26.2091 0 24V8ZM18 18C18 17.4477 18.4477 17 19 17H24C24.5523 17 25 17.4477 25 18C25 18.5523 24.5523 19 24 19H19C18.4477 19 18 18.5523 18 18Z",fill:"currentColor"}),viewBox:"0 0 28 28"}),fe=function(){var e=le(),t=e.connectWeb3,a=e.loading,n=e.account,r=e.disconnect;return i.a.createElement(v.a,{background:"white",boxShadow:"0px 1rem 2rem rgba(204, 218, 238, 0.8)",borderRadius:"1rem",direction:"column",align:"center",w:"calc(100% - 2rem)",mt:"5rem",p:"2rem",maxW:"27.5rem",mx:4},i.a.createElement(v.a,{bg:n&&!a?"red.500":"blue.500",borderRadius:"50%",p:"1rem",justify:"center",align:"center",color:"white",mb:4},i.a.createElement(be,{boxSize:"1.75rem"})),a?i.a.createElement(x.a,{fontSize:"xl",fontWeight:"bold",mb:4},"Connecting Wallet"):i.a.createElement(i.a.Fragment,null,i.a.createElement(x.a,{fontSize:"xl",fontWeight:"bold",mb:4},n?"Switch your network":"Connect Wallet"),!n&&i.a.createElement(x.a,{color:"greyText",mb:4,textAlign:"center"},"To get started, connect your wallet")),n&&!a?i.a.createElement(J.a,{onClick:r,colorScheme:"blue",px:12},"Disconnect"):i.a.createElement(J.a,{onClick:t,colorScheme:"blue",px:12,isLoading:a},"Connect"))},de=a(1108),pe=a(1111),he=a(1103),Ee=Object(me.a)({displayName:"WalletIcon",path:l.createElement(l.Fragment,null,l.createElement("path",{d:"M12 10C11.4477 10 11 10.4477 11 11C11 11.5523 11.4477 12 12 12H13C13.5523 12 14 11.5523 14 11C14 10.4477 13.5523 10 13 10H12Z",fill:"currentColor"}),l.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 0C1.79086 0 0 1.79086 0 4V14C0 16.2091 1.79086 18 4 18H14C16.2091 18 18 16.2091 18 14V8C18 5.79086 16.2091 4 14 4C14 1.79086 12.2091 0 10 0H4ZM12 4H2C2 2.89543 2.89543 2 4 2H10C11.1046 2 12 2.89543 12 4ZM2 14V6H14C15.1046 6 16 6.89543 16 8V14C16 15.1046 15.1046 16 14 16H4C2.89543 16 2 15.1046 2 14Z",fill:"currentColor"})),viewBox:"0 0 18 18"}),ge=function(e){var t=e.close,a=le(),n=a.disconnect,r=a.account,c=a.providerChainId,o=Object(de.a)({base:"bottom",md:"bottom-end"});return r&&c?i.a.createElement(v.a,null,i.a.createElement(he.a,{placement:o},i.a.createElement(he.d,null,i.a.createElement(J.a,{colorScheme:"blue"},i.a.createElement(Ee,{mr:2}),i.a.createElement(x.a,null," ",function(e){var t=e.length;return"".concat(e.substr(0,6),"...").concat(e.substr(t-4,t-1)).toUpperCase()}(r)," "),i.a.createElement(v.a,{justify:"center",align:"center",bg:"white",borderRadius:"6px",px:"0.75rem",height:"2rem",fontSize:"sm",color:"blue.500",fontWeight:"600",ml:4},W(c)))),i.a.createElement(he.c,{border:"none",right:0,p:"0"},i.a.createElement(he.b,{width:"100%",align:"center",boxShadow:"0 0.5rem 1rem #CADAEF",p:4},i.a.createElement(v.a,{justify:"space-between",align:"center",direction:"column",fontWeight:"bold"},i.a.createElement(x.a,{mb:{base:4,md:void 0}},"Connected to ",W(c)),i.a.createElement(J.a,{colorScheme:"blue",onClick:function(){n(),t()}},i.a.createElement(x.a,null," Disconnect "))))))):null},ve=Object(me.a)({displayName:"CreateIcon",path:l.createElement(l.Fragment,null,l.createElement("path",{fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd",d:"M465.064,207.566l0.028,0H284.436V27.25c0-14.84-12.016-27.248-26.856-27.248h-23.116c-14.836,0-26.904,12.408-26.904,27.248v180.316H26.908c-14.832,0-26.908,12-26.908,26.844v23.248c0,14.832,12.072,26.78,26.908,26.78h180.656v180.968c0,14.832,12.064,26.592,26.904,26.592h23.116c14.84,0,26.856-11.764,26.856-26.592V284.438h180.624c14.84,0,26.936-11.952,26.936-26.78V234.41C492,219.566,479.904,207.566,465.064,207.566z"})),viewBox:"0 0 492 492"}),xe=Object(me.a)({displayName:"LotteryIcon",path:l.createElement(l.Fragment,null,l.createElement("path",{fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd",d:"M26.511,12.004L6.233,0.463c-2.151-1.228-4.344,0.115-4.344,2.53v24.093 c0,2.046,1.332,2.979,2.57,2.979c0.583,0,1.177-0.184,1.767-0.543l20.369-12.468c1.024-0.629,1.599-1.56,1.581-2.555 C28.159,13.503,27.553,12.593,26.511,12.004z M25.23,14.827L4.862,27.292c-0.137,0.084-0.245,0.126-0.319,0.147 c-0.02-0.074-0.04-0.188-0.04-0.353V2.994c0-0.248,0.045-0.373,0.045-0.404c0.08,0.005,0.22,0.046,0.396,0.146l20.275,11.541 c0.25,0.143,0.324,0.267,0.348,0.24C25.554,14.551,25.469,14.678,25.23,14.827z"})),viewBox:"0 0 30.065 30.065"}),we=Object(me.a)({displayName:"HistoryIcon",path:l.createElement(l.Fragment,null,l.createElement("path",{d:"M8 5C8 4.44772 8.44769 4 9 4C9.55231 4 10 4.44772 10 5V8.58593L12.9496 11.5355C13.3401 11.9261 13.3401 12.5592 12.9496 12.9498C12.5591 13.3403 11.926 13.3403 11.5354 12.9498L8.29291 9.70724C8.11194 9.52628 8 9.27614 8 9V5Z",fill:"currentColor"}),l.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9 18C13.9706 18 18 13.9706 18 9C18 4.02944 13.9706 0 9 0C4.02942 0 0 4.02944 0 9C0 13.9706 4.02942 18 9 18ZM9 16C12.866 16 16 12.866 16 9C16 5.13401 12.866 2 9 2C5.13403 2 2 5.13401 2 9C2 12.866 5.13403 16 9 16Z",fill:"currentColor"})),viewBox:"0 0 18 18"}),je=a(49),ye=a(66),Oe=function(e){var t=e.close,a=Object(je.g)();return i.a.createElement(J.a,{variant:"ghost",color:"grey",_hover:{color:"blue.500",bgColor:"blackAlpha.100"},onClick:function(){a.push("/"),t()},leftIcon:i.a.createElement(ve,null)},i.a.createElement(x.a,{color:"black"},"New lottery"))},Ce=function(e){var t=e.close,a=Object(je.g)();return i.a.createElement(J.a,{variant:"ghost",color:"grey",_hover:{color:"blue.500",bgColor:"blackAlpha.100"},onClick:function(){a.push("/list"),t()},leftIcon:i.a.createElement(xe,null)},i.a.createElement(x.a,{color:"black"},"Lottery list"))},ke=function(e){var t=e.close,a=Object(je.g)();return i.a.createElement(J.a,{variant:"ghost",color:"grey",_hover:{color:"blue.500",bgColor:"blackAlpha.100"},onClick:function(){a.push("/history"),t()},leftIcon:i.a.createElement(we,null)},i.a.createElement(x.a,{color:"black"},"History"))},Se=function(){var e=le().account,t=Object(l.useState)(!1),a=Object(w.a)(t,2),n=a[0],r=a[1],c=!!e,o=Object(de.a)({base:!0,md:!1});return i.a.createElement(v.a,{justify:"space-between",position:{base:n?"fixed":"relative",md:"relative"},top:n?0:void 0,left:n?0:void 0,align:{base:"stretch",md:"center"},maxW:"75rem",minH:20,px:{base:4,sm:8},w:"100%",background:n?{base:"white",md:"transparent"}:"transparent",direction:{base:"column",md:"row"},mb:n?{base:4,md:0}:0,boxShadow:n?{base:"0 0.5rem 1rem #CADAEF",md:"none"}:"none",h:n&&o?"100%":void 0,zIndex:n?5:void 0},i.a.createElement(v.a,{justify:"space-between",h:20,align:"center"},i.a.createElement(ye.b,{to:"/"},i.a.createElement(v.a,{justify:"space-around",align:"center"},i.a.createElement(x.a,{fontWeight:"bold"},"Lottery")))),i.a.createElement(pe.b,{position:{base:"relative",md:"static"},direction:{base:"column",md:"row"},display:{base:n?"flex":"none",md:"flex"},w:{base:"100%",md:"auto"},h:{base:"100%",md:"auto"},align:"center",justify:"center"},c&&i.a.createElement(i.a.Fragment,null,i.a.createElement(Oe,{close:function(){return r(!1)}}),i.a.createElement(Ce,{close:function(){return r(!1)}}),i.a.createElement(ke,{close:function(){return r(!1)}})),i.a.createElement(ge,{close:function(){return r(!1)}})))},Ie=function(e){var t=e.children,a=le().account,n=Object(l.useMemo)((function(){return!!a}),[a]);return i.a.createElement(v.a,{p:0,m:0,overflowX:"hidden",fontFamily:"body",w:"100%",minH:"100vh",align:"center",direction:"column",background:"background",position:"relative"},i.a.createElement(V.a,{src:U.a,position:"absolute",right:"min(-15rem, -20%)",w:"60rem",minWidth:"30rem",opacity:.99}),i.a.createElement(V.a,{src:G.a,position:"absolute",left:"min(-27rem, -20%)",w:"81rem",minWidth:"60rem",opacity:.99}),i.a.createElement(Se,null),i.a.createElement(v.a,{flex:1,align:"center",justify:"flex-start",direction:"column",w:"100%",h:"100%",position:"relative"},n?t:i.a.createElement(fe,null)))},Ae=a(25),ze=a(497),De=a(77),Le=a(236),Te=a(321),Pe=a(498),We=a.n(Pe),Re=Object(Le.b)({name:"app",initialState:{token:{chainId:1,address:"0xA99C91A4A603D3F51774ecf3C95cb4A1e93D7A52",mode:"NATIVE",logoURI:"https://etherscan.io/token/images/tether_32.png",symbol:"TEST",name:"Test token",decimals:18},amount:"0",balance:"0",allowance:"0",maxBetPercent:10,formula:null,duration:"0",selectedLottery:!1},reducers:{setToken:function(e,t){e.token=t.payload},setAmount:function(e,t){e.amount=t.payload.toString()},setBalance:function(e,t){e.balance=t.payload.toString()},setAllowance:function(e,t){e.allowance=O.a.from(t.payload).toString()},setMaxBetPercent:function(e,t){e.maxBetPercent=t.payload},setFormula:function(e,t){e.formula=t.payload},setDuration:function(e,t){e.duration=t.payload},setSelectedLottery:function(e,t){e.selectedLottery=t.payload}}}),Be=Re.actions,Fe=Be.setToken,He=Be.setAmount,Me=Be.setBalance,_e=Be.setAllowance,Ne=Be.setMaxBetPercent,qe=Be.setFormula,Ve=(Be.setDuration,Be.setSelectedLottery),Ze=function(e){return e.app.token},Ue=function(e){return O.a.from(e.app.amount)},$e=function(e){return O.a.from(e.app.amount).eq(O.a.from(0))},Ge=function(e){return O.a.from(e.app.balance)},Je=function(e){return O.a.from(e.app.balance).eq(O.a.from(0))},Ke=function(e){return O.a.from(e.app.allowance)},Ye=function(e){return O.a.from(e.app.balance).gt(O.a.from(0))&&O.a.from(e.app.amount).gt(O.a.from(0))&&O.a.from(e.app.amount).lte(O.a.from(e.app.allowance))},Xe=function(e){return e.app.maxBetPercent},Qe=function(e){return e.app.formula},et=function(e){return O.a.from(e.app.duration)},tt=function(e){return e.app.selectedLottery},at=Re.reducer,nt=Object(De.b)({app:at}),rt={key:"root",storage:We.a,blacklist:["router"]},ct=Object(Te.a)(rt,nt),ot=Object(Le.a)({reducer:ct,middleware:function(e){return e({serializableCheck:!1})}}),lt=Object(Te.b)(ot),it=a(1106),st=a(1094),ut=a(1099),mt=a(33),bt=a(1092),ft=a(1087),dt=a(499),pt=a.n(dt),ht=function(e){var t=e.chainId,a=e.hash,n=e.children,r="".concat(function(e){return(A[e]||A[1]).explorer}(t)).concat(a);return a?i.a.createElement(bt.a,{href:r,w:"100%",h:"100%",isExternal:!0,display:"flex",justifyContent:"center",alignItems:"center"},n):n},Et=a(139),gt=a(500),vt=a.n(gt)()((function(e){return new ae.a.providers.StaticJsonRpcProvider(e)})),xt=function(){var e=Object(Q.a)(Y.a.mark((function e(t){var a;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S,a=vt("https://ropsten.infura.io/v3/c010ef4cc4754cfba5eba886a7508afd"),e.abrupt("return",a||null);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),wt=function(){var e=Object(Q.a)(Y.a.mark((function e(t,a,n,r){var c,o,l;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=t.address,a&&c&&c!==z&&n&&n!==z&&r){e.next=3;break}return e.abrupt("return",O.a.from(0));case 3:return e.prev=3,o=["function allowance(address, address) view returns (uint256)"],l=new Et.b(c,o,r),e.abrupt("return",l.allowance(a,n));case 9:e.prev=9,e.t0=e.catch(3),_({allowanceError:e.t0});case 12:return e.abrupt("return",O.a.from(0));case 13:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(t,a,n,r){return e.apply(this,arguments)}}(),jt=function(){var e=Object(Q.a)(Y.a.mark((function e(t,a,n,r){var c,o,l;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=a.address,o=["function approve(address, uint256)"],l=new Et.b(c,o,t.getSigner()),e.abrupt("return",l.approve(n,r));case 4:case"end":return e.stop()}}),e)})));return function(t,a,n,r){return e.apply(this,arguments)}}(),yt=function(){var e=Object(Q.a)(Y.a.mark((function e(t,a){var n;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xt(t.chainId);case 2:return n=e.sent,e.abrupt("return",Ot(n,t,a));case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Ot=function(){var e=Object(Q.a)(Y.a.mark((function e(t,a,n){var r,c,o,l;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=a.address)!==z){e.next=3;break}return e.abrupt("return",t.getBalance(n));case 3:if(n&&r&&r!==z&&t){e.next=5;break}return e.abrupt("return",O.a.from(0));case 5:return e.prev=5,c=["function balanceOf(address) view returns (uint256)"],o=new Et.b(r,c,t),e.next=10,o.balanceOf(n);case 10:return l=e.sent,e.abrupt("return",l);case 14:e.prev=14,e.t0=e.catch(5),_({balanceError:e.t0});case 17:return e.abrupt("return",O.a.from(0));case 18:case"end":return e.stop()}}),e,null,[[5,14]])})));return function(t,a,n){return e.apply(this,arguments)}}(),Ct=function(e){var t=e.token,a=e.amount,n=e.balanceIsZero,r=e.amountIsZero,c=e.transferAllowed,o=Object(mt.useToast)(),s=le().providerChainId,u=function(e,t,a){var n=Object(Ae.b)(),r=le(),c=r.account,o=r.ethersProvider,i=r.providerChainId,s=Object(l.useState)(!1),u=Object(w.a)(s,2),m=u[0],b=u[1];Object(l.useEffect)((function(){e&&i===e.chainId&&wt(e,c,C,o).then((function(e){return n(_e(e))}))}),[o,c,e,i,m]);var f=Object(l.useState)(!1),d=Object(w.a)(f,2),p=d[0],h=d[1],E=Object(l.useState)(),g=Object(w.a)(E,2),v=g[0],x=g[1];return{updateAllowance:function(){return b((function(e){return!e}))},approvalLoading:p,approvalTxHash:v,approve:Object(l.useCallback)(Object(Q.a)(Y.a.mark((function r(){var l,i;return Y.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return h(!0),l=a,r.prev=2,r.next=5,jt(o,e,t,l);case 5:return i=r.sent,x(i.hash),r.next=9,i.wait();case 9:n(_e(l)),r.next=16;break;case 12:throw r.prev=12,r.t0=r.catch(2),_({approveError:r.t0,token:e,approvalAmount:l.toString(),account:c}),r.t0;case 16:return r.prev=16,x(),h(!1),r.finish(16);case 20:case"end":return r.stop()}}),r,null,[[2,12,16,20]])}))),[a,e,t,o,c])}}(t,C,a),m=u.approvalTxHash,b=u.approvalLoading,f=u.approve,d=function(e){e&&o({title:"Error",description:e,status:"error",isClosable:"true"})};return n||r||c?null:i.a.createElement(J.a,{colorScheme:"blue",onClick:function(){b||f().catch((function(e){e&&e.message?e.data&&(e.data.includes("Bad instruction fe")||e.data.includes("Reverted"))?d(i.a.createElement(x.a,null,"There is problem with the token unlock. Try to revoke previous approval if any on"," ",i.a.createElement(bt.a,{href:"https://revoke.cash",textDecor:"underline",isExternal:!0},"https://revoke.cash/")," ","and try again.")):d(e.message):d("Impossible to perform the operation. Reload the application and try again.")}))},_hover:{color:"cyan.600"},cursor:"pointer",transition:"0.25s",w:{base:"10rem",sm:"12rem",lg:"auto"}},b?i.a.createElement(ht,{chainId:s,hash:m},i.a.createElement(ft.a,{color:"white",size:"sm"})):i.a.createElement(i.a.Fragment,null,i.a.createElement(x.a,{color:"white",fontWeight:"bold"},"Unlock balance"),i.a.createElement(V.a,{src:pt.a,ml:2})))},kt=a(1088),St=a(503),It=a.n(St),At=a(1104),zt=a(1093),Dt=function(){var e=Object(Q.a)(Y.a.mark((function e(t,a,n,r,c){var o,l;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=["function create(address, uint, uint, uint)"],l=new Et.b(C,o,t.getSigner()),e.abrupt("return",l.create(a.address,n,O.a.from(r),c));case 3:case"end":return e.stop()}}),e)})));return function(t,a,n,r,c){return e.apply(this,arguments)}}(),Lt=function(){var e=Object(Q.a)(Y.a.mark((function e(t,a,n){var r,c;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=["function play(uint, uint)"],c=new Et.b(C,r,t.getSigner()),e.abrupt("return",c.play(a,n));case 3:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),Tt=function(){var e=Object(Q.a)(Y.a.mark((function e(t,a){var n,r;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=["function redeem(uint)"],r=new Et.b(C,n,t.getSigner()),e.abrupt("return",r.redeem(a));case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Pt=function(e){var t=e.isOpen,a=e.onClose,n=Object(je.g)(),r=Object(mt.useToast)(),c=le().providerChainId,o=Object(Ae.c)(Ze),s=Object(Ae.c)(Ue),u=Object(Ae.c)(Xe),m=Object(Ae.c)(Qe),b=function(e,t,a,n){var r=le(),c=r.account,o=r.ethersProvider,i=Object(l.useState)(!1),s=Object(w.a)(i,2),u=s[0],m=s[1],b=Object(l.useState)(),f=Object(w.a)(b,2),d=f[0],p=f[1];return{createLoading:u,createTxHash:d,create:Object(l.useCallback)(Object(Q.a)(Y.a.mark((function r(){var l;return Y.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return m(!0),r.prev=1,r.next=4,Dt(o,e,t,a,n);case 4:return l=r.sent,p(l.hash),r.next=8,l.wait();case 8:r.next=14;break;case 10:throw r.prev=10,r.t0=r.catch(1),_({useCreateError:r.t0,token:e,amount:t.toString(),account:c}),r.t0;case 14:return r.prev=14,p(),m(!1),r.finish(14);case 18:case"end":return r.stop()}}),r,null,[[1,10,14,18]])}))),[t,e,a,n,o,c])}}(o,s,u,Object(Ae.c)(et)),f=b.createTxHash,d=b.createLoading,p=b.create,h=H(s,o.decimals),E=function(e){e&&r({title:"Error",description:e,status:"error",isClosable:"true"})};return o?i.a.createElement(At.a,{isOpen:t,onClose:a,isCentered:!0},i.a.createElement(At.g,{background:"modalBG"},i.a.createElement(At.d,{boxShadow:"0px 1rem 2rem #617492",borderRadius:"1rem",maxW:"38rem",mx:{base:12,lg:0}},i.a.createElement(At.f,{p:6},i.a.createElement(x.a,null,"Confirm Transfer")),i.a.createElement(At.c,{size:"lg",top:-10,right:-10,color:"white",p:2}),i.a.createElement(At.b,{px:6,py:0},i.a.createElement(v.a,{align:"center",justify:"center",width:"100%"},i.a.createElement(v.a,{justify:"center",align:"center",direction:"column",border:"1px solid #DAE3F0",borderRadius:"0.25rem",w:"10rem",h:"4rem",px:4},i.a.createElement(x.a,{textAlign:"center",fontWeight:"bold"},h),i.a.createElement(x.a,{textAlign:"center",fontSize:"sm"},o.symbol))),i.a.createElement(zt.a,{color:"#DAE3F0",my:4}),i.a.createElement(st.a,{w:"100%",fontSize:"sm",color:"black",mb:2},i.a.createElement(x.a,{as:"span"},"Please confirm that you would like to create a new lottery and send "),i.a.createElement(x.a,{as:"b"},"".concat(h," ").concat(o.symbol)),i.a.createElement(x.a,{as:"span"}," to lottery liquidity fund.")),i.a.createElement(st.a,{w:"100%",fontSize:"sm",color:"black"},i.a.createElement(x.a,{as:"span"},"Maximum bet percent is set to "),i.a.createElement(x.a,{as:"b"},"".concat(u)),i.a.createElement(x.a,{as:"span"},".")),i.a.createElement(st.a,{w:"100%",fontSize:"sm",color:"black"},i.a.createElement(x.a,{as:"span"},"Formula is set to "),i.a.createElement(x.a,{as:"b"},"".concat(I[m])),i.a.createElement(x.a,{as:"span"},"."))),i.a.createElement(At.e,{p:6,flexDirection:"column"},i.a.createElement(v.a,{w:"100%",justify:"space-between",align:{base:"stretch",md:"center"},direction:{base:"column",md:"row"}},i.a.createElement(J.a,{px:12,onClick:a,background:"background",_hover:{background:"#bfd3f2"},color:"#687D9D"},"Cancel"),i.a.createElement(J.a,{px:12,onClick:function(){d||p().then((function(){n.push("/list")})).catch((function(e){e&&e.message?E(e.message):E("Impossible to perform the operation. Reload the application and try again.")}))},colorScheme:"blue",mt:{base:2,md:0}},d?i.a.createElement(ht,{chainId:c,hash:f},i.a.createElement(ft.a,{color:"white",size:"sm"})):i.a.createElement(i.a.Fragment,null,i.a.createElement(x.a,{color:"white",fontWeight:"bold"},"Continue")))))))):null},Wt=function(){var e=le().ethersProvider,t=Object(kt.a)(),a=t.isOpen,n=t.onOpen,r=t.onClose,c=Object(mt.useToast)(),o=Object(Ae.c)(Ye),l=Object(Ae.c)(Qe),s=function(){return!!e||((t="Please connect wallet")&&c({title:"Error",description:t,status:"error",isClosable:"true"}),!1);var t};return i.a.createElement(i.a.Fragment,null,i.a.createElement(Pt,{isOpen:a,onClose:r}),i.a.createElement(J.a,{colorScheme:"blue",onClick:function(){o&&l&&s()&&n()},cursor:o&&l?"pointer":"not-allowed",opacity:o&&l?1:.4},i.a.createElement(V.a,{src:It.a,mr:2}),i.a.createElement(x.a,null,"Confirm")))},Rt=a(505),Bt=a.n(Rt),Ft=a(1095),Ht=a(1096),Mt=a(1098),_t=a(506),Nt=a.n(_t),qt=Object(me.a)({displayName:"PlusIcon",path:l.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 0C6.44772 0 6 0.447716 6 1V6H1C0.447715 6 0 6.44771 0 7C0 7.55228 0.447716 8 1 8H6V13C6 13.5523 6.44772 14 7 14C7.55228 14 8 13.5523 8 13V8H13C13.5523 8 14 7.55228 14 7C14 6.44772 13.5523 6 13 6H8V1C8 0.447715 7.55228 0 7 0Z",fill:"currentColor"}),viewBox:"0 0 14 14"}),Vt=a(507),Zt=a(508),Ut=a.n(Zt),$t=a(127),Gt=function(){var e=Object(Q.a)(Y.a.mark((function e(t){var a,n;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kt(t);case 2:return a=e.sent,n=F(a),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Jt=new Ut.a({allErrors:!0}).compile(Vt),Kt=function(){var e=Object(Q.a)(Y.a.mark((function e(t){var a,n,r;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=R(t))){e.next=12;break}return e.next=4,fetch(a);case 4:if(!(n=e.sent).ok){e.next=12;break}return e.next=8,n.json();case 8:if(r=e.sent,56===t&&(r.tokens=r.tokens.map((function(e){return Object(X.a)(Object(X.a)({},e),{},{chainId:t})}))),!Jt(r)&&56!==t){e.next=12;break}return e.abrupt("return",r.tokens.filter((function(e){return e.chainId===t})));case 12:return e.abrupt("return",[]);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Yt=(Object($t.gql)(n||(n=Object(m.a)(['\n  query homeTokens {\n    tokens(where: { homeAddress_contains: "0x" }, first: 1000) {\n      chainId: homeChainId\n      address: homeAddress\n      name: homeName\n      symbol\n      decimals\n    }\n  }\n']))),P),Xt=function(e){var t=e.isOpen,a=e.onClose,n=e.onCustom,r=Object(Ae.b)(),c=Object(l.useRef)(),o=le(),s=o.account,u=o.ethersProvider,m=o.providerChainId,b=Object(l.useState)(!0),f=Object(w.a)(b,2),d=f[0],p=f[1],h=Object(l.useState)([]),E=Object(w.a)(h,2),g=E[0],y=E[1],O=Object(l.useState)([]),C=Object(w.a)(O,2),k=C[0],S=C[1],I=Object(de.a)({sm:!1,base:!0}),A=Object(l.useCallback)(function(){var e=Object(Q.a)(Y.a.mark((function e(t){var a,n,r;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=function(e,t){var a=e.balance;return t.balance.sub(a).gt(0)?1:-1},e.next=3,Promise.all(t.map(function(){var e=Object(Q.a)(Y.a.mark((function e(t){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=X.a,e.t1=Object(X.a)({},t),e.t2={},e.next=5,Ot(u,t,s);case 5:return e.t3=e.sent,e.t4={balance:e.t3},e.abrupt("return",(0,e.t0)(e.t1,e.t2,e.t4));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 3:if(n=e.sent,-1===(r=n.findIndex((function(e){var t=e.address,a=e.mode;return t===z&&"NATIVE"===a})))){e.next=7;break}return e.abrupt("return",[n[r]].concat(Object(j.a)(B(n,r).sort(a))));case 7:return e.abrupt("return",n.sort(a));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[s,u]),D=Object(l.useCallback)(function(){var e=Object(Q.a)(Y.a.mark((function e(t,a){var n,r;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(!0),e.prev=1,e.next=4,Gt(t);case 4:n=e.sent,r=Object(j.a)(F(n.concat(a.filter((function(e){return e.chainId===t}))))),y(r),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),_({fetchTokensError:e.t0});case 12:p(!1);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,a){return e.apply(this,arguments)}}(),[A]);Object(l.useEffect)((function(){g.length&&S(g)}),[g,S]),Object(l.useEffect)((function(){if(t){var e=window.localStorage.getItem(Yt);e=e&&e.length?JSON.parse(e):[],m&&D(m,e)}}),[t,m,D]);return i.a.createElement(At.a,{isOpen:t,onClose:a,scrollBehavior:"inside",isCentered:!0,initialFocusRef:c},i.a.createElement(At.g,{background:"modalBG"},i.a.createElement(At.d,{boxShadow:"0px 1rem 2rem #617492",borderRadius:"1rem",pb:4,pt:2,maxW:"30rem",mx:{base:12,lg:0}},i.a.createElement(At.f,{pb:0},i.a.createElement(v.a,{align:"center",justify:"space-between"},"Select a Token",i.a.createElement(bt.a,{fontSize:"md",color:"blue.500",fontWeight:"normal",onClick:n},i.a.createElement(v.a,{align:"center"},i.a.createElement(qt,{mr:2}),i.a.createElement(x.a,null,I?"Custom":"Add Custom Token")))),i.a.createElement(x.a,{color:"grey",my:2,fontSize:"md",fontWeight:"normal"},"Search Name or Paste Token Contract Address"),i.a.createElement(Ft.a,{mb:4,borderColor:"#DAE3F0"},i.a.createElement(Ht.a,{placeholder:"Search ...",onChange:function(e){var t=g.filter((function(t){var a=e.target.value.toLowerCase(),n=t.name,r=t.symbol,c=t.address;return n.toLowerCase().includes(a)||r.toLowerCase().includes(a)||c.toLowerCase().includes(a)}));S(t)},_placeholder:{color:"grey"},ref:c}),i.a.createElement(Mt.a,{px:0},i.a.createElement(V.a,{src:Nt.a})))),i.a.createElement(At.c,{size:"lg",top:-10,right:-10,color:"white",p:2}),i.a.createElement(At.b,{minH:"5rem"},d&&i.a.createElement(v.a,{w:"100%",align:"center",justify:"center"},i.a.createElement(ft.a,{color:"blue.500",thickness:"4px",size:"xl",speed:"0.75s"})),!d&&k.map((function(e){e.decimals,e.balance;var t=e.name,n=e.address,c=e.symbol;return i.a.createElement(J.a,{variant:"outline",size:"lg",width:"100%",borderColor:"#DAE3F0",key:n+c,onClick:function(){return function(e){a(),r(Fe(e))}(e)},mb:2},i.a.createElement(v.a,{align:"center",width:"100%",justify:"space-between"},i.a.createElement(v.a,{align:"center"},i.a.createElement(x.a,{fontSize:"lg",fontWeight:"bold"},c)),i.a.createElement(x.a,{color:"grey",fontWeight:"normal",textOverflow:"ellipsis",overflow:"hidden",maxWidth:"60%"},t)))}))))))},Qt=a(16),ea=a(509),ta=a.n(ea),aa=P,na=function(e){var t=e.isOpen,a=e.onClose,n=e.onBack,r=Object(Ae.b)(),c=Object(mt.useToast)(),o=le().providerChainId,s=Object(l.useState)({address:"",name:"",symbol:"",decimals:0,chainId:o,logo:""}),u=Object(w.a)(s,2),m=u[0],b=u[1],f=Object(l.useState)(""),d=Object(w.a)(f,2),p=d[0],h=d[1],E=Object(l.useState)(!1),g=Object(w.a)(E,2),j=g[0],O=g[1],C=function(){var e=window.localStorage.getItem(aa),t=[];e||(e=[]),e.length<1?t=e.concat([m]):(t=JSON.parse(e)).push(m),t=F(t),window.localStorage.setItem(aa,JSON.stringify(t)),r(Fe(m))},k=function(){var e=Object(Q.a)(Y.a.mark((function e(t){var a;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("address"!==t.target.id){e.next=5;break}h(t.target.value),y.utils.isAddress(t.target.value)?(O(!1),b(Object(X.a)(Object(X.a)({},m),{},Object(Qt.a)({},t.target.id,t.target.value)))):O(!0),e.next=13;break;case 5:if("decimals"!==t.target.id){e.next=12;break}if(!((a=t.target.value.replace(/\D/,""))<0||a>18)){e.next=9;break}return e.abrupt("return");case 9:b(Object(X.a)(Object(X.a)({},m),{},Object(Qt.a)({},t.target.id,a))),e.next=13;break;case 12:b(Object(X.a)(Object(X.a)({},m),{},Object(Qt.a)({},t.target.id,t.target.value)));case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=Object(l.useRef)();return i.a.createElement(At.a,{isOpen:t,onClose:a,scrollBehavior:"inside",isCentered:!0,initialFocusRef:S},i.a.createElement(At.g,{background:"modalBG"},i.a.createElement(At.d,{boxShadow:"0px 1rem 2rem #617492",borderRadius:"1rem",maxW:"30rem",mx:{base:12,lg:0}},i.a.createElement(At.f,{p:6},i.a.createElement(x.a,null,"Add Custom Token"),i.a.createElement(V.a,{src:ta.a,w:"100%",mt:4})),i.a.createElement(At.c,{size:"lg",top:-10,right:-10,color:"white",p:2}),i.a.createElement(At.b,{px:6,py:0},i.a.createElement(v.a,{direction:"column"},i.a.createElement(x.a,{mb:2},"Token Contract Address"),i.a.createElement(Ft.a,{mb:4,borderColor:"#DAE3F0"},i.a.createElement(Ht.a,{id:"address",placeholder:"0xAbC ...",size:"sm",onChange:k,_placeholder:{color:"grey"},value:p,ref:S,isInvalid:j})),i.a.createElement(x.a,{mb:2},"Token name"),i.a.createElement(Ft.a,{mb:4,borderColor:"#DAE3F0"},i.a.createElement(Ht.a,{id:"name",placeholder:"Enter name",size:"sm",onChange:k,_placeholder:{color:"grey"},value:m.name})),i.a.createElement(x.a,{mb:2},"Token Symbol"),i.a.createElement(Ft.a,{mb:4,borderColor:"#DAE3F0"},i.a.createElement(Ht.a,{id:"symbol",placeholder:"ETH",size:"sm",onChange:k,_placeholder:{color:"grey"},value:m.symbol})),i.a.createElement(x.a,{mb:2},"Decimals of Precision"),i.a.createElement(Ft.a,{mb:4,borderColor:"#DAE3F0"},i.a.createElement(Ht.a,{id:"decimals",placeholder:"18",size:"sm",onChange:k,_placeholder:{color:"grey"},value:m.decimals})))),i.a.createElement(At.e,{p:6,flexDirection:"column"},i.a.createElement(v.a,{w:"100%",justify:"space-between",align:{base:"stretch",md:"center"},direction:{base:"column",md:"row"}},i.a.createElement(J.a,{px:12,onClick:n,background:"background",_hover:{background:"#bfd3f2"},color:"#687D9D"},"Back"),i.a.createElement(J.a,{px:12,onClick:function(){j?c({title:"Error",description:"Please enter a valid token address",status:"error",duration:2e3,isClosable:!0}):(a(),C())},colorScheme:"blue",mt:{base:2,md:0}},"Add Token"))))))},ra=function(e){var t=e.isOpen,a=e.onClose,n=Object(l.useState)(!1),r=Object(w.a)(n,2),c=r[0],o=r[1];return i.a.createElement(i.a.Fragment,null,!c&&i.a.createElement(Xt,{isOpen:t,onClose:a,onCustom:function(){return o(!0)}}),c&&i.a.createElement(na,{isOpen:t,onClose:function(){o(!1),a()},onBack:function(){return o(!1)}}))},ca=a(1105),oa=a(234),la=function(){var e=Object(Ae.b)(),t=le().account,a=Object(Ae.c)(Ze),n=Object(Ae.c)(Ge),r=Object(kt.a)(),c=r.isOpen,o=r.onOpen,s=r.onClose,u=Object(de.a)({base:!0,lg:!1}),m=Object(l.useState)(!1),b=Object(w.a)(m,2),f=b[0],d=b[1],p=Object(l.useState)(0),h=Object(w.a)(p,2),E=h[0],g=h[1];return Object(l.useEffect)((function(){var n;return a&&t?(d(!0),n=Object(ca.a)((function(){return yt(a,t).catch((function(t){_({balanceError:t}),e(Me(O.a.from(0))),d(!1)}))})).subscribe((function(t){e(Me(t)),d(!1)}))):e(Me(O.a.from(0))),function(){n&&n.unsubscribe()}}),[a,t,d]),Object(l.useEffect)((function(){var t=Object(ca.a)((function(){var t=E;""===E&&(t="0");var n=M(t,a.decimals);e(He(n))})).subscribe();return function(){t.unsubscribe()}}),[E]),i.a.createElement(v.a,{width:"100%"},i.a.createElement(ra,{onClose:s,isOpen:c}),a&&i.a.createElement(v.a,{w:"100%",direction:"column"},i.a.createElement(v.a,{justify:"space-between",mb:4,direction:{base:"column",sm:"row"}},i.a.createElement(v.a,{align:"center",cursor:"pointer",onClick:o,zIndex:1,background:"white"},i.a.createElement(x.a,{fontSize:"lg",fontWeight:"bold",mx:2},N(a.name,24)),i.a.createElement(V.a,{src:Bt.a,cursor:"pointer"})),i.a.createElement(v.a,{flex:1,justify:"flex-end",align:"center",h:"100%",position:"relative",ml:{base:void 0,sm:2,md:void 0}},f?i.a.createElement(ft.a,{size:"sm",color:"grey"}):i.a.createElement(x.a,Object.assign({color:"grey",textAlign:"right"},u?{}:{position:"absolute",bottom:"4px",right:0}),"Balance: ".concat(H(n,a.decimals))))),i.a.createElement(v.a,null,i.a.createElement(oa.a,{style:{width:"100%",outline:"none",fontWeight:"bold",fontSize:"24px"},value:E,placeholder:"0",decimalScale:a.decimals,onValueChange:function(e){return g(e.value)}}),i.a.createElement(J.a,{ml:2,color:"blue.500",bg:"blue.50",size:"sm",fontSize:"sm",fontWeight:"normal",_hover:{bg:"blue.100"},onClick:function(){g(H(n,a.decimals))}},"Max"))))},ia=function(){var e=Object(Ae.b)(),t=Object(Ae.c)(Xe),a=Object(Ae.c)(Qe),n=Object(Ae.c)(Ze),r=Object(Ae.c)(Ue),c=Object(Ae.c)(Je),o=Object(Ae.c)($e),l=Object(Ae.c)(Ye);return i.a.createElement(v.a,{align:"center",justify:"center",direction:"column",w:{base:void 0,lg:"calc(100% - 4rem)"},maxW:"75rem",my:"auto",mx:{base:4,sm:8}},i.a.createElement(v.a,{maxW:"40rem",minW:"30rem",background:"white",boxShadow:"0px 1rem 2rem rgba(204, 218, 238, 0.8)",borderRadius:"1rem",direction:"column",align:"center",p:{base:4,md:8}},i.a.createElement(v.a,{w:"100%",justify:"center",mb:6},i.a.createElement(v.a,{align:"flex-start",direction:"column"},i.a.createElement(x.a,{fontWeight:"bold",fontSize:"lg"},"Start a new lottery"))),i.a.createElement(pe.c,{spacing:4,width:"100%",mb:6},i.a.createElement(v.a,{width:"100%"},i.a.createElement(x.a,{fontWeight:"bold",fontSize:"md"},"Liquidity token")),i.a.createElement(la,null),i.a.createElement(Ct,{token:n,amount:r,balanceIsZero:c,amountIsZero:o,transferAllowed:l}),i.a.createElement(v.a,{width:"100%"},i.a.createElement(x.a,{fontWeight:"bold",fontSize:"md"},"Max bet percent (",t,"%)")),i.a.createElement(it.a,{defaultValue:t,min:1,max:50,step:1,onChange:function(t){return e(Ne(t))}},i.a.createElement(it.d,{bg:"red.100"},i.a.createElement(st.a,{position:"relative",right:10}),i.a.createElement(it.b,{bg:"tomato"})),i.a.createElement(it.c,{boxSize:6,boxShadow:"0px 10px 10px rgba(204, 218, 238, 0.8) !important"})),i.a.createElement(v.a,{width:"100%"},i.a.createElement(x.a,{fontWeight:"bold",fontSize:"md"},"Lottery math formula")),i.a.createElement(ut.a,{placeholder:"Select formula",value:a,onChange:function(t){return e(qe(t.target.value))}},Object.entries(I).map((function(e){var t=Object(w.a)(e,2),a=t[0],n=t[1];return i.a.createElement("option",{key:a,value:a},n)})))),i.a.createElement(Wt,null)))},sa=function(){return i.a.createElement(ia,null)},ua=a(235),ma=a.n(ua),ba=a(1107),fa=a(1100),da=function(e){var t=e.play,a=e.manageLiquidity,n=e.item,r=e.accountString,c=e.item,o=c.lotteryID,s=c.liquidity,u=c.formula,m=c.maxBetPercent,b=c.member,f=c.duration,d=c.tokenName,p=c.tokenSymbol,h=c.tokenDecimals,E="0"===f?"Infinite":new Date(1e3*parseInt(f,10)).toLocaleTimeString([],{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"}),g=Object(mt.useToast)();Object(l.useCallback)((function(e){e&&g({title:"Error",description:e,status:"error",isClosable:"true"})}),[g]);return i.a.createElement(v.a,{w:"100%",background:"white",boxShadow:"0px 1rem 2rem rgba(204, 218, 238, 0.8)",borderRadius:"1rem",fontSize:"sm",p:4,mb:4},i.a.createElement(fa.a,{templateColumns:{base:"1fr 1fr 1fr 1fr 1fr 1fr 1fr"},w:"100%",alignItems:"center"},i.a.createElement(v.a,{justify:"center"},i.a.createElement(x.a,{my:"auto",align:"center"},o)),i.a.createElement(v.a,{justify:"center"},i.a.createElement(x.a,{my:"auto",align:"center"},y.utils.formatUnits(O.a.from(s),O.a.from(h))," ",p," (",d,")")),i.a.createElement(v.a,{justify:"center"},i.a.createElement(x.a,{my:"auto",align:"center"},I[u])),i.a.createElement(v.a,{justify:"center"},i.a.createElement(x.a,{my:"auto",align:"center"},m,"%")),i.a.createElement(v.a,{justify:"center"},i.a.createElement(x.a,{my:"auto",align:"center"},E)),i.a.createElement(v.a,{justify:"center"},i.a.createElement(J.a,{w:"80%",size:"sm",colorScheme:"blue",onClick:function(){return t(n)}},"Play")),i.a.createElement(v.a,{justify:"center"},i.a.createElement(J.a,{w:"80%",size:"sm",colorScheme:"blue",onClick:function(){return a(n)}},b===r?"Manage liquidity":"Add liquidity"))))},pa=Object(me.a)({displayName:"LeftIcon",path:l.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.707107 11.2929C0.316582 11.6834 0.316582 12.3166 0.707107 12.7071L10.6066 22.6066C10.9971 22.9971 11.6303 22.9971 12.0208 22.6066C12.4113 22.2161 12.4113 21.5829 12.0208 21.1924L2.82843 12L12.0208 2.80761C12.4113 2.41709 12.4113 1.78392 12.0208 1.3934C11.6303 1.00287 10.9971 1.00287 10.6066 1.3934L0.707107 11.2929Z",fill:"currentColor"}),viewBox:"0 0 23 24"}),ha=Object(me.a)({displayName:"RightIcon",path:l.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21.9203 11.2929C22.3109 11.6834 22.3109 12.3166 21.9203 12.7071L12.0208 22.6066C11.6303 22.9971 10.9972 22.9971 10.6066 22.6066C10.2161 22.2161 10.2161 21.5829 10.6066 21.1924L19.799 12L10.6066 2.80761C10.2161 2.41709 10.2161 1.78392 10.6066 1.3934C10.9972 1.00287 11.6303 1.00287 12.0208 1.3934L21.9203 11.2929Z",fill:"currentColor"}),viewBox:"0 0 23 24"}),Ea=function(e){var t=e.numPages,a=e.currentPage,n=Object(je.g)();Object(l.useEffect)((function(){var e=n.listen((function(){window.scrollTo({top:0,left:0})}));return function(){e()}}),[n]);var r,c=function(e){n.push("/list?page=".concat(e))},o=t===(r=a)?[r-2,r-1,r]:1===r?[r,r+1,r+2]:[r-1,r,r+1];return i.a.createElement(v.a,{w:"100%",py:{base:4,sm:8},mb:4,align:"center",justify:{base:"center",lg:"flex-end"},fontSize:"sm"},i.a.createElement(pe.a,{spacing:4},i.a.createElement(pa,{boxSize:6,color:"grey",_hover:{color:"blue.500"},onClick:function(){return c(a-1)},cursor:a>1?"pointer":"not-allowed"}),o.map((function(e){return e>=1&&e<=t&&i.a.createElement(J.a,{key:e.toString(),background:a===e?"blue.500":"grey",_hover:{background:"blue.500"},color:"white",onClick:function(){return c(e)},size:"sm"},e)})),i.a.createElement(ha,{boxSize:6,color:"grey",_hover:{color:"blue.500"},onClick:function(){return c(a+1)},cursor:a<t?"pointer":"not-allowed"})))},ga=function(){return i.a.createElement(v.a,{w:"100%",background:"white",boxShadow:"0px 1rem 2rem rgba(204, 218, 238, 0.8)",borderRadius:"1rem",p:8,direction:"column",align:"center"},i.a.createElement(x.a,{fontWeight:"bold",mb:4},"No lottery found"),i.a.createElement(ye.b,{to:"/"},i.a.createElement(J.a,{colorScheme:"blue"},"Create")))},va=Object($t.gql)(r||(r=Object(m.a)(["\n  query getRequests($first: Int!, $skip: Int!) {\n    createLotteries(\n      orderBy: txHash\n      orderDirection: desc\n      first: $first\n      skip: $skip\n    ) {\n      id\n      txHash\n      member\n      lotteryID\n      amount\n      timestamp\n      # status\n      liquidity\n      formula\n      maxBetPercent\n      duration\n      collateral\n      tokenName\n      tokenSymbol\n      tokenDecimals\n    }\n  }\n"]))),xa=function(){var e=Object(Q.a)(Y.a.mark((function e(t){var a;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wa(t,va);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),wa=function(){var e=Object(Q.a)(Y.a.mark((function e(t,a){var n,r,c,o;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=[],r=0,c=1e3;case 3:return e.next=6,Object($t.request)(t,a,{first:c,skip:1e3*r});case 6:if((o=e.sent)&&(n=o.createLotteries),o&&!(o.createLotteries.length<1e3)){e.next=10;break}return e.abrupt("break",13);case 10:r+=1,e.next=3;break;case 13:return e.abrupt("return",n);case 14:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),ja=function(){var e=le().providerChainId,t=Object(l.useState)([]),a=Object(w.a)(t,2),n=a[0],r=a[1],c=Object(l.useState)(!0),o=Object(w.a)(c,2),i=o[0],s=o[1];return Object(l.useEffect)((function(){function e(){return(e=Object(Q.a)(Y.a.mark((function e(){var t,a;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xa(k);case 2:t=e.sent,a=t.sort((function(e,t){return t.timestamp-e.timestamp})),r(a),s(!1);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}r([]),s(!0);var t=Object(ca.a)((function(){return function(){return e.apply(this,arguments)}()})).subscribe();return function(){return t.unsubscribe()}}),[e]),{transfers:n,loading:i}},ya=function(e){var t=e.isOpen,a=e.onClose,n=Object(je.g)(),r=Object(mt.useToast)(),c=le(),o=c.account,s=c.providerChainId,u=Object(Ae.c)(tt),m=Object(Ae.c)(Ke),b=u.tokenSymbol,f=u.tokenName,d=u.tokenDecimals,p=u.formula,h=u.liquidity,E=u.collateral,g=u.lotteryID,j=u.maxBetPercent,y=Object(l.useState)(O.a.from("0")),C=Object(w.a)(y,2),k=C[0],S=C[1],A=Object(l.useState)(!1),z=Object(w.a)(A,2),D=z[0],L=z[1],T=Object(l.useState)(!1),P=Object(w.a)(T,2),W=P[0],R=P[1],B=Object(l.useState)(),F=Object(w.a)(B,2),q=F[0],V=F[1],Z=Object(l.useState)(0),U=Object(w.a)(Z,2),$=U[0],G=U[1],K=Object(l.useState)(!1),X=Object(w.a)(K,2),ee=X[0],te=X[1],ae=Object(l.useState)(!1),ne=Object(w.a)(ae,2),re=ne[0],ce=ne[1],oe=O.a.from(h).div(O.a.from("100")).mul(O.a.from(j)),ie=function(e,t){var a=le(),n=a.account,r=a.ethersProvider,c=Object(l.useState)(!1),o=Object(w.a)(c,2),i=o[0],s=o[1],u=Object(l.useState)(),m=Object(w.a)(u,2),b=m[0],f=m[1];return{playLoading:i,playTxHash:b,play:Object(l.useCallback)(Object(Q.a)(Y.a.mark((function a(){var c;return Y.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return s(!0),a.prev=1,a.next=4,Lt(r,e,t);case 4:return c=a.sent,f(c.hash),a.next=8,c.wait();case 8:a.next=14;break;case 10:throw a.prev=10,a.t0=a.catch(1),_({usePlayError:a.t0,lotteryID:e,amount:t.toString(),account:n}),a.t0;case 14:return a.prev=14,f(),s(!1),a.finish(14);case 18:case"end":return a.stop()}}),a,null,[[1,10,14,18]])}))),[e,t,r,n])}}(g,$),se=ie.playTxHash,ue=ie.playLoading,me=ie.play,be=function(e){e&&r({title:"Error",description:e,status:"error",isClosable:"true"})};return Object(l.useEffect)((function(){var e,t={chainId:s,address:E};return t&&o?(L(!0),e=Object(ca.a)((function(){return yt(t,o).catch((function(e){_({balanceError:e}),S(O.a.from(0)),R(!0),L(!1)}))})).subscribe((function(e){S(e),R(e.eq(O.a.from(0))),L(!1)}))):(S(O.a.from(0)),R(!0)),function(){e&&e.unsubscribe()}}),[o,L,g]),Object(l.useEffect)((function(){var e=Object(ca.a)((function(){var e=q;""===q&&(e="0");var t=M(e,d);G(t),te(t.eq(O.a.from(0)))})).subscribe();return function(){e.unsubscribe()}}),[q]),Object(l.useEffect)((function(){ce(O.a.from(k).gt(O.a.from(0))&&O.a.from($).gt(O.a.from(0))&&O.a.from($).lte(O.a.from(m)))}),[q]),i.a.createElement(At.a,{isOpen:t,onClose:a,isCentered:!0},i.a.createElement(At.g,{background:"modalBG"},i.a.createElement(At.d,{boxShadow:"0px 1rem 2rem #617492",borderRadius:"1rem",maxW:"38rem",mx:{base:12,lg:0}},i.a.createElement(At.f,{p:6},i.a.createElement(x.a,null,"Play lottery")),i.a.createElement(At.c,{size:"lg",top:-10,right:-10,color:"white",p:2}),i.a.createElement(At.b,{px:6,py:0},i.a.createElement(v.a,{width:"100%"},i.a.createElement(x.a,{fontWeight:"bold",fontSize:"md"},"Enter bet amount (",b," - ",N(f,24),")")),i.a.createElement(v.a,{w:"100%",direction:"column"},i.a.createElement(v.a,{justify:"space-between",direction:{base:"column",sm:"row"}},i.a.createElement(v.a,{flex:1,justify:"flex-end",align:"center",h:"100%",position:"relative",ml:{base:void 0,sm:2,md:void 0}},D?i.a.createElement(ft.a,{size:"sm",color:"grey"}):i.a.createElement(x.a,{color:"grey",textAlign:"right",style:{position:"absolute",bottom:"4px",right:0}},"Balance: ".concat(H(k,d))))),i.a.createElement(v.a,{mt:2},i.a.createElement(oa.a,{style:{width:"100%",outline:"none",fontWeight:"bold",fontSize:"24px"},value:q,placeholder:"0",decimalScale:d,onValueChange:function(e){return V(e.value)}}),i.a.createElement(J.a,{ml:2,color:"blue.500",bg:"blue.50",size:"sm",fontSize:"sm",fontWeight:"normal",_hover:{bg:"blue.100"},onClick:function(){oe.gt(k)?V(H(k,d)):V(H(oe,d))}},"Max"))),i.a.createElement(st.a,{w:"100%",fontSize:"sm",color:"black",mt:2},i.a.createElement(x.a,{as:"span"},"Maximum bet percent from total liquidity is "),i.a.createElement(x.a,{as:"b"},j,"%"),i.a.createElement(x.a,{as:"span"},". "),i.a.createElement(x.a,{as:"span"},"Maximum bet amount is "),i.a.createElement(x.a,{as:"b"},H(oe,d)),i.a.createElement(x.a,{as:"span"},".")),i.a.createElement(v.a,{justify:"center"},i.a.createElement(Ct,{token:{chainId:s,address:E},amount:$,balanceIsZero:W,amountIsZero:ee,transferAllowed:re})),i.a.createElement(zt.a,{color:"#DAE3F0",my:4}),i.a.createElement(st.a,{w:"100%",fontSize:"sm",color:"black",mb:2},i.a.createElement(x.a,{as:"span"},"Keep in mind that you can both win or lose this amount. Lottery formula is "),i.a.createElement(x.a,{as:"b"},I[p],"."))),i.a.createElement(At.e,{p:6,flexDirection:"column"},i.a.createElement(v.a,{w:"100%",justify:"space-between",align:{base:"stretch",md:"center"},direction:{base:"column",md:"row"}},i.a.createElement(J.a,{px:12,onClick:a,background:"background",_hover:{background:"#bfd3f2"},color:"#687D9D"},"Cancel"),i.a.createElement(J.a,{px:12,onClick:function(){!ue&&re&&me().then((function(){n.push("/history")})).catch((function(e){e&&e.message?be(e.message):be("Impossible to perform the operation. Reload the application and try again.")}))},colorScheme:"blue",mt:{base:2,md:0},cursor:re?"pointer":"not-allowed",opacity:re?1:.4},ue?i.a.createElement(ht,{chainId:s,hash:se},i.a.createElement(ft.a,{color:"white",size:"sm"})):i.a.createElement(i.a.Fragment,null,i.a.createElement(x.a,{color:"white",fontWeight:"bold"},"Confirm"))))))))},Oa=function(e){var t=e.isOpen,a=e.onClose,n=Object(mt.useToast)(),r=le().providerChainId,c=Object(Ae.c)(tt),o=(c.tokenSymbol,c.tokenName,c.tokenDecimals,c.formula,c.liquidity,c.collateral,c.lotteryID),s=(c.maxBetPercent,function(e){var t=le(),a=t.account,n=t.ethersProvider,r=Object(l.useState)(!1),c=Object(w.a)(r,2),o=c[0],i=c[1],s=Object(l.useState)(),u=Object(w.a)(s,2),m=u[0],b=u[1];return{redeemLoading:o,redeemTxHash:m,redeem:Object(l.useCallback)(Object(Q.a)(Y.a.mark((function t(){var r;return Y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i(!0),t.prev=1,t.next=4,Tt(n,e);case 4:return r=t.sent,b(r.hash),t.next=8,r.wait();case 8:t.next=14;break;case 10:throw t.prev=10,t.t0=t.catch(1),_({useRedeemError:t.t0,lotteryID:e,account:a}),t.t0;case 14:return t.prev=14,b(),i(!1),t.finish(14);case 18:case"end":return t.stop()}}),t,null,[[1,10,14,18]])}))),[e,n,a])}}(o)),u=s.redeemTxHash,m=s.redeemLoading,b=s.redeem,f=function(e){e&&n({title:"Error",description:e,status:"error",isClosable:"true"})};return i.a.createElement(At.a,{isOpen:t,onClose:a,isCentered:!0},i.a.createElement(At.g,{background:"modalBG"},i.a.createElement(At.d,{boxShadow:"0px 1rem 2rem #617492",borderRadius:"1rem",maxW:"38rem",mx:{base:12,lg:0}},i.a.createElement(At.f,{p:6},i.a.createElement(x.a,null,"Manage liquidity")),i.a.createElement(At.c,{size:"lg",top:-10,right:-10,color:"white",p:2}),i.a.createElement(At.b,{px:6,py:0},i.a.createElement(st.a,{w:"100%",fontSize:"sm",color:"black",mt:2},i.a.createElement(x.a,{as:"span"},"You have "),i.a.createElement(x.a,{as:"b"},"xxx"),i.a.createElement(x.a,{as:"span"}," liquidity.")),i.a.createElement(zt.a,{color:"#DAE3F0",my:4}),i.a.createElement(st.a,{w:"100%",fontSize:"sm",color:"black",mb:2},i.a.createElement(x.a,{as:"span"},"You can withdraw your liquidity."))),i.a.createElement(At.e,{p:6,flexDirection:"column"},i.a.createElement(v.a,{w:"100%",justify:"space-between",align:{base:"stretch",md:"center"},direction:{base:"column",md:"row"}},i.a.createElement(J.a,{px:12,onClick:a,background:"background",_hover:{background:"#bfd3f2"},color:"#687D9D"},"Cancel"),i.a.createElement(J.a,{px:12,onClick:function(){m||b().then((function(){a()})).catch((function(e){e&&e.message?f(e.message):f("Impossible to perform the operation. Reload the application and try again.")}))},colorScheme:"blue",mt:{base:2,md:0},cursor:"pointer",opacity:1},m?i.a.createElement(ht,{chainId:r,hash:u},i.a.createElement(ft.a,{color:"white",size:"sm"})):i.a.createElement(i.a.Fragment,null,i.a.createElement(x.a,{color:"white",fontWeight:"bold"},"Withdraw"))))))))},Ca=function(e){var t=e.page,a=le().account,n=Object(Ae.b)(),r=Object(kt.a)(),c=r.isOpen,o=r.onOpen,s=r.onClose,u=Object(kt.a)(),m=u.isOpen,b=u.onOpen,f=u.onClose,d=ja(),p=d.transfers,h=(d.loading,Object(Ae.c)(tt)),E=Object(l.useState)(!1),g=Object(w.a)(E,2),j=g[0],y=g[1],O=a.toLowerCase(),C=j?p.filter((function(e){return e.member.toLowerCase()===O})):p,k=Math.ceil(C.length/20),S=C.slice(20*(t-1),Math.min(20*t,C.length)),I=function(e){n(Ve(e)),o()},A=function(e){n(Ve(e)),b()};return k>1&&t>k?i.a.createElement(je.a,{to:"/list"}):i.a.createElement(v.a,{maxW:"75rem",direction:"column",mt:8,px:{base:4,sm:8},w:"100%"},"object"===typeof h&&i.a.createElement(ya,{isOpen:c,onClose:s}),"object"===typeof h&&i.a.createElement(Oa,{isOpen:m,onClose:f}),i.a.createElement(v.a,{justify:"space-between",align:"center",mb:4},i.a.createElement(x.a,{fontSize:"xl",fontWeight:"bold"},"Lottery list"),i.a.createElement(ba.a,{isChecked:j,onChange:function(e){return y(e.target.checked)},borderColor:"grey",borderRadius:"4px",size:"lg",variant:"solid"},i.a.createElement(x.a,{fontSize:"sm"},"Show only where I provide liquidity"))),S.length>0?i.a.createElement(i.a.Fragment,null,i.a.createElement(fa.a,{templateColumns:{base:"1fr 1fr 1fr 1fr 1fr 1fr 1fr"},color:"grey",fontSize:"sm",px:4,mb:4,display:{base:"none",md:"grid"}},i.a.createElement(x.a,{textAlign:"center"},"Lottery ID"),i.a.createElement(x.a,{textAlign:"center"},"Liquidity pool"),i.a.createElement(x.a,{textAlign:"center"},"Formula"),i.a.createElement(x.a,{textAlign:"center"},"Max bet percent"),i.a.createElement(x.a,{textAlign:"center"},"Active until"),i.a.createElement(x.a,{textAlign:"center"},"Play"),i.a.createElement(x.a,{textAlign:"center"},"Liquidity")),S.map((function(e,t){return i.a.createElement(da,{key:t,item:e,accountString:O,play:I,manageLiquidity:A})})),k>1&&i.a.createElement(Ea,{numPages:k,currentPage:t})):i.a.createElement(ga,null))},ka=function(e){var t=e.location,a=ma.a.parse(t.search),n=parseInt(a.page,10),r=isNaN(n)||n<=0?1:n;return i.a.createElement(Ca,{page:r})},Sa=function(e){var t=e.item,a=t.amount,n=t.result,r=(t.collateral,t.tokenDecimals),c=t.tokenSymbol,o=t.tokenName,s=t.formula,u=t.lotteryID,m=t.txHash,b=t.timestamp,f=le(),d=f.providerChainId,p=(f.ethersProvider,new Date(1e3*parseInt(b,10)).toLocaleTimeString([],{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"})),h=Object(mt.useToast)();Object(l.useCallback)((function(e){e&&h({title:"Error",description:e,status:"error",isClosable:"true"})}),[h]);return i.a.createElement(v.a,{w:"100%",background:"white",boxShadow:"0px 1rem 2rem rgba(204, 218, 238, 0.8)",borderRadius:"1rem",fontSize:"sm",p:4,mb:4},i.a.createElement(fa.a,{templateColumns:{base:"1fr 1fr 1fr 1fr 1fr 1fr"},w:"100%"},i.a.createElement(v.a,{justify:"center"},i.a.createElement(x.a,{my:"auto"},u)),i.a.createElement(v.a,{justify:"center"},i.a.createElement(x.a,{my:"auto"},p)),i.a.createElement(v.a,{justify:"center"},i.a.createElement(x.a,{my:"auto",align:"center"},y.utils.formatUnits(O.a.from(a),O.a.from(r))," ",c," (",o,")")),i.a.createElement(v.a,{justify:"center"},i.a.createElement(x.a,{my:"auto",align:"center"},I[s])),i.a.createElement(v.a,{justify:"center"},i.a.createElement(x.a,{my:"auto"},n?"Win":"Lose")),i.a.createElement(v.a,{justify:"center"},i.a.createElement(ht,{chainId:d,hash:m},i.a.createElement(J.a,{w:"80%",size:"sm",colorScheme:"blue"},"View Tx")))))},Ia=function(e){var t=e.numPages,a=e.currentPage,n=Object(je.g)();Object(l.useEffect)((function(){var e=n.listen((function(){window.scrollTo({top:0,left:0})}));return function(){e()}}),[n]);var r,c=function(e){n.push("/history?page=".concat(e))},o=t===(r=a)?[r-2,r-1,r]:1===r?[r,r+1,r+2]:[r-1,r,r+1];return i.a.createElement(v.a,{w:"100%",py:{base:4,sm:8},mb:4,align:"center",justify:{base:"center",lg:"flex-end"},fontSize:"sm"},i.a.createElement(pe.a,{spacing:4},i.a.createElement(pa,{boxSize:6,color:"grey",_hover:{color:"blue.500"},onClick:function(){return c(a-1)},cursor:a>1?"pointer":"not-allowed"}),o.map((function(e){return e>=1&&e<=t&&i.a.createElement(J.a,{key:e.toString(),background:a===e?"blue.500":"grey",_hover:{background:"blue.500"},color:"white",onClick:function(){return c(e)},size:"sm"},e)})),i.a.createElement(ha,{boxSize:6,color:"grey",_hover:{color:"blue.500"},onClick:function(){return c(a+1)},cursor:a<t?"pointer":"not-allowed"})))},Aa=function(){return i.a.createElement(v.a,{w:"100%",background:"white",boxShadow:"0px 1rem 2rem rgba(204, 218, 238, 0.8)",borderRadius:"1rem",p:8,direction:"column",align:"center"},i.a.createElement(x.a,{fontWeight:"bold",mb:4},"No history found"),i.a.createElement(ye.b,{to:"/list"},i.a.createElement(J.a,{colorScheme:"blue"},"Play")))},za=Object($t.gql)(c||(c=Object(m.a)(["\n  query getRequests($member: String!, $first: Int!, $skip: Int!) {\n    playLotteries(\n      where: { member: $member }\n      orderBy: txHash\n      orderDirection: desc\n      first: $first\n      skip: $skip\n    ) {\n      id\n      txHash\n      member\n      lotteryID\n      amount\n      timestamp\n      result\n      collateral\n      formula\n      tokenName\n      tokenSymbol\n      tokenDecimals\n    }\n  }\n"]))),Da=function(){var e=Object(Q.a)(Y.a.mark((function e(t,a){var n;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,La(t,a,za);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),La=function(){var e=Object(Q.a)(Y.a.mark((function e(t,a,n){var r,c,o,l;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=[],c=0,o=1e3;case 3:return e.next=6,Object($t.request)(a,n,{member:t,first:o,skip:1e3*c});case 6:if((l=e.sent)&&(r=l.playLotteries),l&&!(l.playLotteries.length<1e3)){e.next=10;break}return e.abrupt("break",13);case 10:c+=1,e.next=3;break;case 13:return e.abrupt("return",r);case 14:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),Ta=function(e){var t=e.member,a=le().providerChainId,n=Object(l.useState)([]),r=Object(w.a)(n,2),c=r[0],o=r[1],i=Object(l.useState)(!0),s=Object(w.a)(i,2),u=s[0],m=s[1];return Object(l.useEffect)((function(){function e(){return(e=Object(Q.a)(Y.a.mark((function e(){var a,n;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Da(t,k);case 2:a=e.sent,n=a.sort((function(e,t){return t.timestamp-e.timestamp})),o(n),m(!1);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}o([]),m(!0);var a=Object(ca.a)((function(){return function(){return e.apply(this,arguments)}()})).subscribe();return function(){return a.unsubscribe()}}),[t,a]),{transfers:c,loading:u}},Pa=function(e){var t=e.page,a=le().account,n=Ta({member:a.toLowerCase()}),r=n.transfers,c=(n.loading,Math.ceil(r.length/20)),o=r.slice(20*(t-1),Math.min(20*t,r.length));return c>1&&t>c?i.a.createElement(je.a,{to:"/history"}):i.a.createElement(v.a,{maxW:"75rem",direction:"column",mt:8,px:{base:4,sm:8},w:"100%"},i.a.createElement(v.a,{justify:"space-between",align:"center",mb:4},i.a.createElement(x.a,{fontSize:"xl",fontWeight:"bold"},"History")),o.length>0?i.a.createElement(i.a.Fragment,null,i.a.createElement(fa.a,{templateColumns:{base:"1fr 1fr 1fr 1fr 1fr 1fr"},color:"grey",fontSize:"sm",px:4,mb:4,display:{base:"none",md:"grid"}},i.a.createElement(x.a,{textAlign:"center"},"Lottery ID"),i.a.createElement(x.a,{textAlign:"center"},"Date"),i.a.createElement(x.a,{textAlign:"center"},"Amount"),i.a.createElement(x.a,{textAlign:"center"},"Formula"),i.a.createElement(x.a,{textAlign:"center"},"Result"),i.a.createElement(x.a,{textAlign:"center"},"Tx")),o.map((function(e,t){return i.a.createElement(Sa,{key:t,item:e})})),c>1&&i.a.createElement(Ia,{numPages:c,currentPage:t})):i.a.createElement(Aa,null))},Wa=function(e){var t=e.location,a=ma.a.parse(t.search),n=parseInt(a.page,10),r=isNaN(n)||n<=0?1:n;return i.a.createElement(Pa,{page:r})},Ra=function(){return i.a.createElement(je.d,null,i.a.createElement(je.b,{exact:!0,path:"/",component:sa}),i.a.createElement(je.b,{exact:!0,path:"/list",component:ka}),i.a.createElement(je.b,{exact:!0,path:"/history",component:Wa}),i.a.createElement(je.a,{to:"/"}))},Ba=a(84),Fa=Object(X.a)(Object(X.a)({},Ba.default),{},{styles:Object(X.a)(Object(X.a)({},Ba.default.styles),{},{global:Object(X.a)({},Ba.default.styles.global)}),colors:Object(X.a)(Object(X.a)({},Ba.default.colors),{},{blue:{50:"#edf9ff",100:"#ddf3ff",200:"#afd7ff",300:"#7ebcff",400:"#4da1ff",500:"#2086fe",600:"#0a6ce5",700:"#0054b3",800:"#003c81",900:"#002450"},cyan:{50:"#edfcff",100:"#dcfaff",200:"#b4eafb",300:"#89daf4",400:"#5dccee",500:"#36bde8",600:"#20a4cf",700:"#117fa2",800:"#035b75",900:"#003848"},red:{50:"#ffe5e5",100:"#fbb8b8",200:"#f48a8a",300:"#f48a8a",400:"#f48a8a",500:"#ef5d5d",600:"#e9302e",700:"#750b0b",800:"#470505",900:"#1d0000"},purple:{50:"#f0e4ff",100:"#cbb2ff",200:"#a880ff",300:"#864dff",400:"#631bfe",500:"#4a02e5",600:"#3900b3",700:"#290081",800:"#17004f",900:"#09001f"},grey:"#A0B6D7",background:"#EEF4FD",lightBackground:"#F2F6FB",greyText:"#75818D",modalBG:"rgba(98, 118, 148, 0.9)",modalOpaqueBG:"rgba(98, 118, 148, 1)"}),fonts:Object(X.a)(Object(X.a)({},Ba.default.fonts),{},{body:"Roboto, sans-serif"})}),Ha=Object(d.b)(o||(o=Object(m.a)(["\n  /*\n    This will hide the focus indicator if the element receives focus via the mouse,\n    but it will still show up on keyboard focus.\n  */\n  .js-focus-visible :focus:not([data-focus-visible-added]) {\n    outline: none;\n    box-shadow: none;\n  }\n"]))),Ma=function(){return i.a.createElement(Ae.a,{store:ot},i.a.createElement(ze.a,{loading:null,persistor:lt},i.a.createElement(b.a,{theme:Fa},i.a.createElement(f.a,null),i.a.createElement(d.a,{styles:Ha}),i.a.createElement(q,null,i.a.createElement(ye.a,null,i.a.createElement(ue,null,i.a.createElement(Ie,null,i.a.createElement(Ra,null))))))))};u.a.render(i.a.createElement(Ma,null),document.getElementById("root"))},490:function(e,t,a){e.exports=a.p+"static/media/down-triangle.807bb502.svg"},491:function(e,t,a){e.exports=a.p+"static/media/up-triangle.ffb399c8.svg"},499:function(e,t,a){e.exports=a.p+"static/media/unlock.b638e27f.svg"},503:function(e,t,a){e.exports=a.p+"static/media/transfer.b8118c61.svg"},505:function(e,t,a){e.exports=a.p+"static/media/drop-down.d806ed30.svg"},506:function(e,t,a){e.exports=a.p+"static/media/search.deb1b290.svg"},509:function(e,t,a){e.exports=a.p+"static/media/custom-token.cad03824.svg"},555:function(e,t,a){e.exports=a(1063)},561:function(e,t){},590:function(e,t){},633:function(e,t){},635:function(e,t){},644:function(e,t){},646:function(e,t){},671:function(e,t){},676:function(e,t){},678:function(e,t){},685:function(e,t){},698:function(e,t){}},[[555,1,2]]]);